var descriptions = ["This is a description that is rather short",
"This is a longer description containing no breakrows at all. It is 500 characters...................This is a longer description containing no breakrows at all. It is 500 characters...................This is a longer description containing no breakrows at all. It is 500 characters...................This is a longer description containing no breakrows at all. It is 500 characters...................This is a longer description containing no breakrows at all. It is 500 characters...................",
"This is a longer description containing breaks with escapes \r\n This is a longer description contai This is a longer description containing breaks with escapes \r\n This is a longer description contai This is a longer description containing breaks with escapes \r\n This is a longer description contai This is a longer description containing breaks with escapes \r\n This is a longer description contai This is a longer description containing breaks with escapes \r\n This is a longer description contai",
"This is a longer description containing breaks with br-tags <br/> This is a longer description containing b This is a longer description containing breaks with br-tags <br/> This is a longer description containing b This is a longer description containing breaks with br-tags <br/> This is a longer description containing b This is a longer description containing breaks with br-tags <br/> This is a longer description containing b This is a longer description containing breaks with br-tags <br/> This is a longer description containing b"];

window.auction.viewModels = (function(item, user){

    var headerViewModel = function(){
        var self = this;

        //TODO: chagne to ko.observable();
        self.user = new user(1, "1337User", "Kristian", "Johannessen", "123 Fakestreet");

        self.newUser = ko.observable();
    };

    var itemViewModel = function(){
        var self = this;

        self.items = ko.observableArray([
            new item("Sykkel", 1, 1000, 200, new Date("5.1.2013"), descriptions[0], "Some dude"),
            new item("Bil", 2, 200000,0, new Date("5.1.2013"), descriptions[1]),
            new item("Xbox", 3, 1500,500, new Date("5.1.2013"), descriptions[2], "1337User"),
            new item("TV", 4, 12000,0, new Date("5.1.2013"), descriptions[3]),
            new item("Lommebok", 5, 150,0, new Date("5.1.2013"), descriptions[0])
        ]);

        self.placeBidOptions = {
            autoOpen: false,
            resizable: false,
            modal: true,
            height: 150,
            width: 550
        };

        self.selectedItem = ko.observable();

        self.placeBid = function(currentItem)
        {
            self.selectedItem(currentItem);
        }


    };
    var headerViewModelObj = new headerViewModel();
    var itemViewModelObj = new itemViewModel();
    $(document).ready(function(){
        ko.applyBindings(headerViewModelObj, document.getElementById("header"));
        ko.applyBindings(itemViewModelObj, document.getElementById("itemViewModelWrapper"));
    });

    return {
        itemViewModel: itemViewModel,
        headerViewModel: headerViewModel
    };
})(window.auction.models.item, window.auction.models.user);
