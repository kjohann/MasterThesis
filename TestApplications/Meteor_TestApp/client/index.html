<head>
    <meta charset="UTF-8">
    <title>Auction House</title>
    <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />
</head>
<body>
{{>content}}
</body>

<template name="content">
	<div id="wrapper">
    <div id="header">
		  <h1 class="welcome">Welcome to Master Auctions!</h1>
		  <div class="logged_in_as {{loggedIn}}"> <!--TODO: make template function-->
			 <span class="logged_in_as_label">Logged in as:</span> <br/>
            <a id="logged_in_link" href="">{{loggedInUser}}</a> <!--TODO: action on this link: see bids and make function-->
		  </div>		
		  <!--TODO: make template for bidItems-->
       <div class="log_in_register">
            <a id="login_link" class="{{notLoggedIn}}" href="">Log in</a><!--TODO: make one class for visible and one for not visible AND make dialog open-->
            {{#if logInDialog}}
              {{>log_in_dialog}}
            {{/if}}
            <br/> 
            <a id="register_link" class="{{notLoggedIn}}" href="">Register</a>
        </div>
        <div id="horizontalHeaderLine"></div>
        <!--TODO: make templates for log in and register dialogs-->	
      </div>
		<div id="itemViewModelWrapper">
    		<button id="addItemButton" class="btn {{loggedIn}}">Add item</button>		
    		<!--TODO: make dialog template AND make it open-->
    		{{>itemcontainer}}
		</div>        		
	</div>
</template>

<template name="itemcontainer">
	<div id="itemWrapper">
		<!--TODO: make function called items that return all items from db-->
		{{#each items}}
			{{>item}}
		{{/each}}
	</div>
</template>

<template name="item">
	<div class="item">
        <div class="itemHeader">
            <h2 >{{name}}</h2>
            <div class="horizontalItemHeaderLine"></div>
        </div>		
        <div class="itemContent">
        	<div class="itemInfo">
              	<label>Itemnumber: </label><span>{{itemno}}</span> <br/>
               	<label>Minumum price: </label><span>{{minPrice}}</span> <br/>
               	<div class="{{bidVisibility}}"> <!--TODO: make function-->
               		<label>Highest bid: </label>
               		<span>{{bid}}</span>
               	</div>
               	<label>Expires </label><span>{{expireDate}}</span>
               	<br/>
               	<div class="{{bidVisibility}}">
               		<label>Highest Bidder: </label> <br/>
               		<span>{{highestBidder}}</span>  
               	</div>      		
        	</div>
        	<div class="itemDescription">
        		<span>{{description}}</span>
        	</div>

        	<div class="buttonBar {{loggedIn}}">
              	<button class="bidButton btn">Place bid</button> <!--TODO: open dialog AND make template-->
            	<button class="removeButton btn {{removeVisible}}">Remove</button><!--TODO: make functions for visibility and removing-->        		
        	</div>
        </div>
	</div>
</template>

<template name="log_in_dialog">
  <div id="log_in_dialog">
    <label for="log_usern">Username: </label>
    <input type="text" id="log_usern" /> <br/>
    <label for="log_pass">Password: </label>
    <input type="password" id="log_pass"/>
    <button id="log_in_button" class="btn">Log_in</button>
  </div>
</template>